<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Ejercicio1</title>
    <script>
	var inicio=0;
  var timeout=0;
  var ventana;
  var reinicio=0;
  var crono=new Crono();

	crono.empezar=function(boton)
	{



    if (boton.value=="Empezar") {

      ventana= window.open("","", "width=200,heigth=100");
      ventana.document.write("00:00:00");

      funcionando();
    }
    else  if(boton.value=="Reiniciar"){
      inicio=new Date().getTime();
      funcionando(3);

    }


  }











    function funcionando(numero) {
      var actual = new Date().getTime();


  		var diff=new Date(actual-inicio);


  		var result=formatear(diff.getUTCHours())+":"+formatear(diff.getUTCMinutes())+":"+formatear(diff.getUTCSeconds());
      timeout=setTimeout("funcionando()",1000);
      ventana.document.body.innerHTML =result;
      if (numero.value=="3") {
        var actual2 = new Date().getTime();


    		var diff2=new Date(actual2-reinicio);
        var result2=formatear(diff2.getUTCHours())+":"+formatear(diff2.getUTCMinutes())+":"+formatear(diff2.getUTCSeconds());
        timeout=setTimeout("funcionando(3)",1000);
        ventana.document.body.innerHTML =result2;
      }

    }

	crono.formatear=function(Time) {
		return (Time < 10) ? "0" + Time : + Time;
	}
    </script>
  </head>
  <body>
    <h1>Cronometro</h1>
    <div>
      <input type="button" name="name" value="Empezar" onclick="crono.empezar(this)">
      <input type="button" name="name" value="Reiniciar" onclick="crono.empezar(this)">

    </div>
  </body>
</html>
